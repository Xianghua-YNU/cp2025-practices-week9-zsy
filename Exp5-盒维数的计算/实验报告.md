# 盒计数法估算分形维数实验报告

## 一、实验目的

1. 理解分形维数（特别是盒维数）的概念和数学原理
2. 掌握盒计数(Box Counting)算法的实现方法
3. 通过编程计算给定分形图像的维数
4. 分析不同参数对计算结果的影响

## 二、实验过程

### 1. 核心算法实现

**图像加载与二值化:**
- 使用Pillow/PIL库读取图像
- 设定阈值进行二值化处理
- 转换为NumPy数组

**盒计数算法实现:**
```python
def box_count(binary_image, box_sizes):
    # ... 算法实现代码 ...
```
数据处理与线性回归:

- 计算log(ε)和log(N(ε))
- 使用numpy.polyfit进行线性拟合
- 计算分形维数 D = -slope
### 2. 实验参数
![08d772b5dc9b01417d0cede1478ba22](https://github.com/user-attachments/assets/3aa093a6-5594-4e1f-9fbc-14fe87a05762)



### 3. 遇到的问题与解决
(请在此描述实现过程中遇到的问题及解决方法)
A:问题：选择过小的盒子尺寸会导致计算结果不稳定，而选择过大的盒子尺寸又无法准确捕捉分形结构
  解决方法：采用等比数列生成盒子尺寸，确保尺寸范围覆盖从图像细节到整体结构的多个尺度。
## 三、结果展示
### 1. 盒计数结果
![image](https://github.com/user-attachments/assets/3505948e-15ce-4025-87c5-b94688a87f18)


关键数据:

- 盒子尺寸(ε): [1,  2, 4,  9,  21,  45, 97, 208,447,959, ]
- 盒子计数(N(ε)): [ 3213580， 812872， 207758，43317，8439，420，100, 25, 9]
- 拟合斜率: [-1.8962]
- 计算得分形维数D: [1.89617]
### 2. 与理论值比较
- 理论分形维数: [1.89617]
- 计算误差分析: [0.325%]
## 四、分析与思考
1. 算法准确性分析
   
   - 盒子尺寸选择对结果的影响
     A:较小的盒子尺寸能够捕捉更多细节，但也更容易受到噪声影响；较大的盒子尺寸则能反映整体结构，但可能丢失细节。
   - 图像分辨率对计算精度的影响
     A:图像分辨率越高，计算结果越接近理论值。在本次实验中，使用的图像分辨率较高，因此计算结果与理论值吻合良好。
2. 误差来源分析
   
   - 边界处理的影响
     A:边界处理不当可能导致部分盒子被错误计数，从而影响结果。
   - 线性拟合的合理性评估
     A:线性拟合的合理性可以通过拟合优度（R^2）来评估。在本次实验中，R^2值较高，表明数据点与拟合直线的相关性较好。
3. 扩展思考
   
   - 如何改进算法提高计算精度
     A:采用自适应阈值进行二值化处理，减少图像预处理带来的误差
   - 三维分形维数的计算方法
     A:对于三维分形，可以将盒计数法推广到三维空间，使用立方体代替二维盒子。
   - 与其他维数计算方法的比较
     A:盒计数法具有简单直观的优点，但在某些情况下可能不如容量维数或信息维数准确。
4. 算法优化
   
   - 计算效率优化方案
     A:并行计算：将图像分割成多个区域，分别计算每个区域的盒子计数，最后汇总结果。稀疏矩阵优化：对于稀疏分布的分形结构，可使用稀疏矩阵存储，减少内存占用和计算量
   - 并行计算的可能性
     A:盒计数算法具有天然的并行性，可以将图像分割成多个子块，分别在多核处理器或分布式计算环境中并行处理，从而显著提高计算速度。

**注：请在每一部分补充您的实验内容、图像、分析和关键代码。**
